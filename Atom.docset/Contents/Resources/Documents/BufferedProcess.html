
      <head>
        <meta charset="utf-8">
        <title>BufferedProcess</title>
        <link rel="stylesheet" href="assets/styles-atom.css">
        <link rel="stylesheet" href="assets/styles-dash.css">
      </head>
    <!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#">

<!-- Mirrored from atom.io/docs/api/v1.24.0/BufferedProcess by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 13 Feb 2018 22:36:10 GMT -->
<!-- Added by HTTrack --><!-- /Added by HTTrack -->

<body>
  

  <div class="footer-push">
    


    <div id="js-pjax-container">
      <div class="documents content-push">
  <div class="wrapper no-pad">

    

    <div class="columns">
      
      <div class="column main-column">
          
<h2 class="page-title">
  BufferedProcess
  <span class="label label-extended" title="This class is in the extended API">
    extended
  </span>
  <a class="document-source" href="https://github.com/atom/atom/blob/v1.24.0/src/buffered-process.js#L22" title="View class source">
    <span class="octicon octicon-file-code"></span>
  </a>
</h2>

<div class="document-description markdown-body">
  <p>A wrapper which provides standard error/output line buffering for
Node&apos;s ChildProcess.</p>
</div>

  <h2 class="section">Examples</h2>
  <div class="document-examples markdown-body">
      <div class="example">
  <pre class="editor editor-colors"><div class="line"><span class="source js"><span class="meta brace curly js"><span>{</span></span><span>BufferedProcess</span><span class="meta brace curly js"><span>}</span></span><span>&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;</span><span class="support function js"><span>require</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>atom</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span>&#xA0;</span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>const</span></span><span>&#xA0;command&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>ps</span><span class="punctuation definition string end js"><span>&apos;</span></span></span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>const</span></span><span>&#xA0;args&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;</span><span class="meta brace square js"><span>[</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>&apos;</span></span><span>-ef</span><span class="punctuation definition string end js"><span>&apos;</span></span></span><span class="meta brace square js"><span>]</span></span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>const</span></span><span>&#xA0;stdout&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;</span><span class="meta brace round js"><span>(</span></span><span>output</span><span class="meta brace round js"><span>)</span></span><span>&#xA0;</span><span class="keyword operator js"><span>=</span><span>&gt;</span></span><span>&#xA0;</span><span class="entity name type object js firebug"><span>console</span></span><span class="support function js firebug"><span>.log</span></span><span class="meta brace round js"><span>(</span></span><span>output</span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>const</span></span><span>&#xA0;exit&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;</span><span class="meta brace round js"><span>(</span></span><span>code</span><span class="meta brace round js"><span>)</span></span><span>&#xA0;</span><span class="keyword operator js"><span>=</span><span>&gt;</span></span><span>&#xA0;</span><span class="entity name type object js firebug"><span>console</span></span><span class="support function js firebug"><span>.log</span></span><span class="meta brace round js"><span>(</span></span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>&quot;</span></span><span>ps&#xA0;-ef&#xA0;exited&#xA0;with&#xA0;#{code}</span><span class="punctuation definition string end js"><span>&quot;</span></span></span><span class="meta brace round js"><span>)</span></span></span></div><div class="line"><span class="source js"><span class="storage modifier js"><span>const</span></span><span>&#xA0;</span><span class="support variable js"><span>process</span></span><span>&#xA0;</span><span class="keyword operator js"><span>=</span></span><span>&#xA0;</span><span class="meta class instance constructor"><span class="keyword operator new js"><span>new</span></span><span>&#xA0;</span><span class="entity name type instance js"><span>BufferedProcess</span></span></span><span class="meta brace round js"><span>(</span></span><span class="meta brace curly js"><span>{</span></span><span>command</span><span class="meta delimiter object comma js"><span>,&#xA0;</span></span><span>args</span><span class="meta delimiter object comma js"><span>,&#xA0;</span></span><span>stdout</span><span class="meta delimiter object comma js"><span>,&#xA0;</span></span><span>exit</span><span class="meta brace curly js"><span>}</span></span><span class="meta brace round js"><span>)</span></span></span></div></pre>

</div>

  </div>





  <a name="section-Construction"></a>
  <h2 class="detail-section">Construction</h2>

    


    

    
<div class="api-entry js-api-entry essential" id="instance-constructor">
  <h3 class="name">
    <a href="#instance-constructor" class="js-api-name method-signature" name="instance-constructor">
      <span class="operator operator-instance">::</span>constructor<span class="argument-list">(<span class="argument">options</span>)</span>
    </a>
    <a class="source-link" href="https://github.com/atom/atom/blob/v1.24.0/src/buffered-process.js#L52"><span class="octicon octicon-file-code"></span></a>
  </h3>

  <div class="method-summary-wrapper js-method-summary-wrapper">
  <div class="summary markdown-body">
    <p>Runs the given command by spawning a new child process.</p>
  </div>

  <div class="body markdown-body">
    <div class="description">
      
    </div>

  </div>

    <table class="arguments">
      <thead>
        <tr>
          <th>Argument</th>
          <th>Description</th>
        </tr>
      </thead>
        <tr class="markdown-body argument-depth-0">
    <td><code>options</code></td>
    <td>
      <p>An <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object" class="external-link reference-link">Object</a> with the following keys:</p>
    </td>
  </tr>
      <tr class="markdown-body argument-depth-1">
    <td><code>.command</code></td>
    <td>
      <p>The <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String" class="external-link reference-link">String</a> command to execute.</p>
    </td>
  </tr>
  <tr class="markdown-body argument-depth-1">
    <td><code>.args</code></td>
    <td>
      <p>The <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array" class="external-link reference-link">Array</a> of arguments to pass to the command (optional).</p>
    </td>
  </tr>
  <tr class="markdown-body argument-depth-1">
    <td><code>.options</code></td>
    <td>
      <p><a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object" class="external-link reference-link">Object</a> (optional) The options <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object" class="external-link reference-link">Object</a> to pass to Node&apos;s <code>ChildProcess.spawn</code> method.</p>
    </td>
  </tr>
  <tr class="markdown-body argument-depth-1">
    <td><code>.stdout<span class="argument-list">(<span class="argument">data</span>)</span></code></td>
    <td>
      <p><a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function" class="external-link reference-link">Function</a> (optional) The callback that receives a single argument which contains the standard output from the command. The callback is called as data is received but it&apos;s buffered to ensure only complete lines are passed until the source stream closes. After the source stream has closed all remaining data is sent in a final call.</p>
    </td>
  </tr>
      <tr class="markdown-body argument-depth-2">
    <td><code>data</code></td>
    <td>
      <p><a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String" class="external-link reference-link">String</a></p>
    </td>
  </tr>

  <tr class="markdown-body argument-depth-1">
    <td><code>.stderr<span class="argument-list">(<span class="argument">data</span>)</span></code></td>
    <td>
      <p><a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function" class="external-link reference-link">Function</a> (optional) The callback that receives a single argument which contains the standard error output from the command. The callback is called as data is received but it&apos;s buffered to ensure only complete lines are passed until the source stream closes. After the source stream has closed all remaining data is sent in a final call.</p>
    </td>
  </tr>
      <tr class="markdown-body argument-depth-2">
    <td><code>data</code></td>
    <td>
      <p><a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String" class="external-link reference-link">String</a></p>
    </td>
  </tr>

  <tr class="markdown-body argument-depth-1">
    <td><code>.exit<span class="argument-list">(<span class="argument">code</span>)</span></code></td>
    <td>
      <p><a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function" class="external-link reference-link">Function</a> (optional) The callback which receives a single argument containing the exit status.</p>
    </td>
  </tr>
      <tr class="markdown-body argument-depth-2">
    <td><code>code</code></td>
    <td>
      <p><a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Number" class="external-link reference-link">Number</a></p>
    </td>
  </tr>

  <tr class="markdown-body argument-depth-1">
    <td><code>.autoStart</code></td>
    <td>
      <p><a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Boolean" class="external-link reference-link">Boolean</a> (optional) Whether the command will automatically start when this BufferedProcess is created. Defaults to true.  When set to false you must call the <code>start</code> method to start the process.</p>
    </td>
  </tr>


    </table>


</div>

</div>



  <a name="section-Event Subscription"></a>
  <h2 class="detail-section">Event Subscription</h2>

    


    

    
<div class="api-entry js-api-entry essential" id="instance-onWillThrowError">
  <h3 class="name">
    <a href="#instance-onWillThrowError" class="js-api-name method-signature" name="instance-onWillThrowError">
      <span class="operator operator-instance">::</span>onWillThrowError<span class="argument-list">(<span class="argument">callback</span>)</span>
    </a>
    <a class="source-link" href="https://github.com/atom/atom/blob/v1.24.0/src/buffered-process.js#L122"><span class="octicon octicon-file-code"></span></a>
  </h3>

  <div class="method-summary-wrapper js-method-summary-wrapper">
  <div class="summary markdown-body">
    <p>Will call your callback when an error will be raised by the process.
Usually this is due to the command not being available or not on the PATH.
You can call <code>handle()</code> on the object passed to your callback to indicate
that you have handled this error.</p>
  </div>

  <div class="body markdown-body">
    <div class="description">
      
    </div>

  </div>

    <table class="arguments">
      <thead>
        <tr>
          <th>Argument</th>
          <th>Description</th>
        </tr>
      </thead>
        <tr class="markdown-body argument-depth-0">
    <td><code>callback<span class="argument-list">(<span class="argument">errorObject</span>)</span></code></td>
    <td>
      <p><a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function" class="external-link reference-link">Function</a> callback</p>
    </td>
  </tr>
      <tr class="markdown-body argument-depth-1">
    <td><code>errorObject</code></td>
    <td>
      <p><a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object" class="external-link reference-link">Object</a></p>
    </td>
  </tr>
      <tr class="markdown-body argument-depth-2">
    <td><code>.error</code></td>
    <td>
      <p><a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object" class="external-link reference-link">Object</a> the error object</p>
    </td>
  </tr>
  <tr class="markdown-body argument-depth-2">
    <td><code>.handle<span class="argument-list">()</span></code></td>
    <td>
      <p><a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function" class="external-link reference-link">Function</a> call this to indicate you have handled the error. The error will not be thrown if this function is called.</p>
    </td>
  </tr>



    </table>


    <table class="return-values">
      <thead>
        <tr>
          <th>Return values</th>
        </tr>
      </thead>
      <tr>
        <td class="markdown-body"><p>Returns a <a class="reference-link" data-skip-pjax="yeahokiguess" href="Disposable.html">Disposable<span class="operator"></span></a></p></td>
      </tr>
    </table>
</div>

</div>



  <a name="section-Helper Methods"></a>
  <h2 class="detail-section">Helper Methods</h2>

    


    

    
<div class="api-entry js-api-entry essential" id="instance-kill">
  <h3 class="name">
    <a href="#instance-kill" class="js-api-name method-signature" name="instance-kill">
      <span class="operator operator-instance">::</span>kill<span class="argument-list">()</span>
    </a>
    <a class="source-link" href="https://github.com/atom/atom/blob/v1.24.0/src/buffered-process.js#L234"><span class="octicon octicon-file-code"></span></a>
  </h3>

  <div class="method-summary-wrapper js-method-summary-wrapper">
  <div class="summary markdown-body">
    <p>Terminate the process.</p>
  </div>

  <div class="body markdown-body">
    <div class="description">
      
    </div>

  </div>



</div>

</div>




      </div>
    </div>
  </div>
</div>

    </div>

    
  </div>

  

</body>

<!-- Mirrored from atom.io/docs/api/v1.24.0/BufferedProcess by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 13 Feb 2018 22:36:10 GMT -->
</html>

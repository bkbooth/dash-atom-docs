<head>
  <meta charset="utf-8" />
  <title>BufferedProcess</title>
  <link rel="stylesheet" href="../assets/styles-atom.css" />
  <link rel="stylesheet" href="../assets/styles-dash.css" />
</head>
<!DOCTYPE html>
<html lang="en">
  <!-- Mirrored from flight-manual.atom.io/api/v1.52.0/BufferedProcess/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 20 Oct 2020 00:16:06 GMT -->
  <!-- Added by HTTrack --><!-- /Added by HTTrack -->

  <body class="layout-api-class">
    <div class="footer-push">
      <div class="wrapper documents content-push wide">
        <div class="content-column">
          <div class="document-content">
            <h2 class="page-title">
              BufferedProcess
              <span class="label label-extended" title="This class is in the extended API">
                Extended
              </span>

              <a
                class="document-source"
                href="https://github.com/atom/atom/blob/v1.52.0/src/buffered-process.js#L20"
                title="View class source"
              >
                <span class="octicon octicon-file-code"></span>
              </a>
            </h2>
            <div class="markdown-body">
              <p>A wrapper which provides standard error/output line buffering for Node&#x2019;s ChildProcess.</p>
            </div>
            <h2 class="section">Examples</h2>
            <div class="document-examples markdown-body">
              <div class="example">
                <div class="language-js highlighter-rouge">
                  <div class="highlight">
                    <pre
                      class="highlight"
                    ><code><span class="p">[</span><span class="nx">BufferedProcess</span><span class="p">](..</span><span class="o">/</span><span class="nx">BufferedProcess</span><span class="o">/</span><span class="p">)</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&apos;atom&apos;</span><span class="p">)</span>

<span class="kd">const</span> <span class="nx">command</span> <span class="o">=</span> <span class="s1">&apos;ps&apos;</span>
<span class="kd">const</span> <span class="nx">args</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&apos;-ef&apos;</span><span class="p">]</span>
<span class="kd">const</span> <span class="nx">stdout</span> <span class="o">=</span> <span class="p">(</span><span class="nx">output</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">output</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">exit</span> <span class="o">=</span> <span class="p">(</span><span class="nx">code</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;ps -ef exited with #[code](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/code)&quot;</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">process</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BufferedProcess</span><span class="p">({</span><span class="nx">command</span><span class="p">,</span> <span class="nx">args</span><span class="p">,</span> <span class="nx">stdout</span><span class="p">,</span> <span class="nx">exit</span><span class="p">})</span>
</code></pre>
                  </div>
                </div>
              </div>
            </div>
            <h2 class="detail-section">Construction</h2>

            <div class="api-entry js-api-entry essential" id="instance-constructor">
              <h3 class="name">
                <a name="//apple_ref/cpp/Constructor/BufferedProcess" class="dashAnchor"></a
                ><a href="#instance-constructor" class="js-api-name method-signature" name="instance-constructor">
                  ::constructor<span class="argument-list">(<span class="argument">options</span>)</span>
                </a>
                <a class="document-source" href="https://github.com/atom/atom/blob/v1.52.0/src/buffered-process.js#L50">
                  <span class="octicon octicon-file-code"></span>
                </a>
              </h3>
              <div class="method-summary-wrapper">
                <div class="summary markdown-body">
                  <p>Runs the given command by spawning a new child process.</p>
                </div>

                <div class="body markdown-body">
                  <div class="description"></div>
                </div>

                <table class="arguments">
                  <thead>
                    <tr>
                      <th>Argument</th>
                      <th>Description</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="markdown-body argument-depth-0">
                      <td>
                        <p><code>options</code></p>
                      </td>
                      <td>
                        <p>
                          An
                          <a
                            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"
                            >Object</a
                          >
                          with the following keys:
                        </p>
                      </td>
                    </tr>
                    <tr class="markdown-body argument-depth-1">
                      <td>
                        <p><code>command</code></p>
                      </td>
                      <td>
                        <p>
                          The
                          <a
                            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
                            >String</a
                          >
                          command to execute.
                        </p>
                      </td>
                    </tr>

                    <tr class="markdown-body argument-depth-1">
                      <td>
                        <p><code>args</code></p>
                      </td>
                      <td>
                        <p>
                          The
                          <a
                            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array"
                            >Array</a
                          >
                          of arguments to pass to the command (optional).
                        </p>
                      </td>
                    </tr>

                    <tr class="markdown-body argument-depth-1">
                      <td>
                        <p><code>options</code></p>
                      </td>
                      <td>
                        <p>
                          <a
                            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"
                            >Object</a
                          >
                          (optional) The options
                          <a
                            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"
                            >Object</a
                          >
                          to pass to Node&#x2019;s <code>ChildProcess.spawn</code> method.
                        </p>
                      </td>
                    </tr>

                    <tr class="markdown-body argument-depth-1">
                      <td>
                        <p><code>stdout</code></p>
                      </td>
                      <td>
                        <p>
                          <a
                            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function"
                            >Function</a
                          >
                          (optional) The callback that receives a single argument which contains the standard output
                          from the command. The callback is called as data is received but it&#x2019;s buffered to
                          ensure only complete lines are passed until the source stream closes. After the source stream
                          has closed all remaining data is sent in a final call.
                        </p>
                      </td>
                    </tr>
                    <tr class="markdown-body argument-depth-2">
                      <td>
                        <p><code>data</code></p>
                      </td>
                      <td>
                        <p>
                          <a
                            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
                            >String</a
                          >
                        </p>
                      </td>
                    </tr>

                    <tr class="markdown-body argument-depth-1">
                      <td>
                        <p><code>stderr</code></p>
                      </td>
                      <td>
                        <p>
                          <a
                            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function"
                            >Function</a
                          >
                          (optional) The callback that receives a single argument which contains the standard error
                          output from the command. The callback is called as data is received but it&#x2019;s buffered
                          to ensure only complete lines are passed until the source stream closes. After the source
                          stream has closed all remaining data is sent in a final call.
                        </p>
                      </td>
                    </tr>
                    <tr class="markdown-body argument-depth-2">
                      <td>
                        <p><code>data</code></p>
                      </td>
                      <td>
                        <p>
                          <a
                            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"
                            >String</a
                          >
                        </p>
                      </td>
                    </tr>

                    <tr class="markdown-body argument-depth-1">
                      <td>
                        <p><code>exit</code></p>
                      </td>
                      <td>
                        <p>
                          <a
                            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function"
                            >Function</a
                          >
                          (optional) The callback which receives a single argument containing the exit status.
                        </p>
                      </td>
                    </tr>
                    <tr class="markdown-body argument-depth-2">
                      <td>
                        <p><code>code</code></p>
                      </td>
                      <td>
                        <p>
                          <a
                            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"
                            >Number</a
                          >
                        </p>
                      </td>
                    </tr>

                    <tr class="markdown-body argument-depth-1">
                      <td>
                        <p><code>autoStart</code></p>
                      </td>
                      <td>
                        <p>
                          <a
                            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"
                            >Boolean</a
                          >
                          (optional) Whether the command will automatically start when this BufferedProcess is created.
                          Defaults to true. When set to false you must call the <code>start</code> method to start the
                          process.
                        </p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <h2 class="detail-section">Event Subscription</h2>

            <div class="api-entry js-api-entry essential" id="instance-onWillThrowError">
              <h3 class="name">
                <a name="//apple_ref/cpp/Event/onWillThrowError" class="dashAnchor"></a
                ><a
                  href="#instance-onWillThrowError"
                  class="js-api-name method-signature"
                  name="instance-onWillThrowError"
                >
                  ::onWillThrowError<span class="argument-list">(<span class="argument">callback</span>)</span>
                </a>
                <a
                  class="document-source"
                  href="https://github.com/atom/atom/blob/v1.52.0/src/buffered-process.js#L135"
                >
                  <span class="octicon octicon-file-code"></span>
                </a>
              </h3>
              <div class="method-summary-wrapper">
                <div class="summary markdown-body">
                  <p>
                    Will call your callback when an error will be raised by the process. Usually this is due to the
                    command not being available or not on the PATH. You can call <code>handle()</code> on the object
                    passed to your callback to indicate that you have handled this error.
                  </p>
                </div>

                <div class="body markdown-body">
                  <div class="description"></div>
                </div>

                <table class="arguments">
                  <thead>
                    <tr>
                      <th>Argument</th>
                      <th>Description</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="markdown-body argument-depth-0">
                      <td>
                        <p><code>callback</code></p>
                      </td>
                      <td>
                        <p>
                          <a
                            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function"
                            >Function</a
                          >
                          callback
                        </p>
                      </td>
                    </tr>
                    <tr class="markdown-body argument-depth-1">
                      <td>
                        <p><code>errorObject</code></p>
                      </td>
                      <td>
                        <p>
                          <a
                            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"
                            >Object</a
                          >
                        </p>
                      </td>
                    </tr>
                    <tr class="markdown-body argument-depth-2">
                      <td>
                        <p><code>error</code></p>
                      </td>
                      <td>
                        <p>
                          <a
                            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"
                            >Object</a
                          >
                          the error object
                        </p>
                      </td>
                    </tr>

                    <tr class="markdown-body argument-depth-2">
                      <td>
                        <p><code>handle</code></p>
                      </td>
                      <td>
                        <p>
                          <a
                            href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function"
                            >Function</a
                          >
                          call this to indicate you have handled the error. The error will not be thrown if this
                          function is called.
                        </p>
                      </td>
                    </tr>
                  </tbody>
                </table>

                <table class="return-values">
                  <thead>
                    <tr>
                      <th>Return values</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td class="markdown-body">
                        <p>Returns a <a href="../Disposable/index.html">Disposable</a></p>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <h2 class="detail-section">Helper Methods</h2>

            <div class="api-entry js-api-entry essential" id="instance-kill">
              <h3 class="name">
                <a name="//apple_ref/cpp/Method/kill" class="dashAnchor"></a
                ><a href="#instance-kill" class="js-api-name method-signature" name="instance-kill">
                  ::kill<span class="argument-list">()</span>
                </a>
                <a
                  class="document-source"
                  href="https://github.com/atom/atom/blob/v1.52.0/src/buffered-process.js#L250"
                >
                  <span class="octicon octicon-file-code"></span>
                </a>
              </h3>
              <div class="method-summary-wrapper">
                <div class="summary markdown-body">
                  <p>Terminate the process.</p>
                </div>

                <div class="body markdown-body">
                  <div class="description"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>

  <!-- Mirrored from flight-manual.atom.io/api/v1.52.0/BufferedProcess/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 20 Oct 2020 00:16:06 GMT -->
</html>
